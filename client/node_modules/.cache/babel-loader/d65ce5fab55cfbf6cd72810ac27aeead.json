{"ast":null,"code":"var _jsxFileName = \"/home/saadi/coursAlyra/OpiChain/client/src/pages/ChlDex.jsx\",\n  _s = $RefreshSig$();\nimport '../css/page/chldex.css';\nimport Box from '@mui/material/Box';\nimport TextField from '@mui/material/TextField';\nimport Stack from '@mui/material/Stack';\nimport Divider from '@mui/material/Divider';\nimport useEth from \"../contexts/EthContext/useEth\";\nimport { useState } from 'react';\nimport Chip from '@mui/material/Chip';\nimport SwapHorizIcon from '@mui/icons-material/SwapHoriz';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ChlDex() {\n  _s();\n  const {\n    state: {\n      web3,\n      accounts,\n      owner,\n      contractCHL,\n      contractChlDex\n    }\n  } = useEth();\n  const [amountEth, setAmountEth] = useState('');\n  const navigate = useNavigate();\n  const buyTokens = async _amount => {\n    try {\n      //  await contractCHL.methods.approve( contractChlDex.address, \"1000\").send({ from: accounts[0]});\n      await contractChlDex.methods.buyTokens().send({\n        from: accounts[0],\n        value: web3.utils.toWei(_amount, 'ether')\n      }); //value:web3.utils.fromWei(_amount, \"ether\")} );\n    } catch (err) {\n      console.log(err);\n    }\n    navigate('/');\n    window.location.reload(true);\n  };\n  const handleChangeEthAmount = event => {\n    if (event.target.value === \"\") {\n      alert(\"Please enter an amount\");\n      return;\n    }\n    setAmountEth(event.target.value);\n  };\n  const onBuyToken = async e => {\n    buyTokens(amountEth);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"opidex\",\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        width: '100%'\n      },\n      display: \"flex\",\n      justifyContent: \"center\",\n      children: /*#__PURE__*/_jsxDEV(Stack, {\n        direction: \"row\",\n        divider: /*#__PURE__*/_jsxDEV(Divider, {\n          orientation: \"vertical\",\n          flexItem: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 18\n        }, this),\n        spacing: 2,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          required: true,\n          id: \"outlined-required\",\n          type: \"number\",\n          label: \"Amout in Ether\",\n          onChange: handleChangeEthAmount,\n          value: amountEth\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"opidexButton\",\n          onClick: onBuyToken,\n          children: \"Buy CHLs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(Chip, {\n          icon: /*#__PURE__*/_jsxDEV(SwapHorizIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 20\n          }, this),\n          label: \"1 Ether = 50 CHL =  1 Challenge**\",\n          color: \"secondary\",\n          variant: \"outlined\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 8\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(ChlDex, \"u0yO2Pw2DyKqCPyEWnz7yvDIXq8=\", false, function () {\n  return [useEth, useNavigate];\n});\n_c = ChlDex;\nexport default ChlDex;\nvar _c;\n$RefreshReg$(_c, \"ChlDex\");","map":{"version":3,"names":["Box","TextField","Stack","Divider","useEth","useState","Chip","SwapHorizIcon","useNavigate","ChlDex","state","web3","accounts","owner","contractCHL","contractChlDex","amountEth","setAmountEth","navigate","buyTokens","_amount","methods","send","from","value","utils","toWei","err","console","log","window","location","reload","handleChangeEthAmount","event","target","alert","onBuyToken","e","width"],"sources":["/home/saadi/coursAlyra/OpiChain/client/src/pages/ChlDex.jsx"],"sourcesContent":["import '../css/page/chldex.css';\nimport Box from '@mui/material/Box';\nimport TextField from '@mui/material/TextField';\nimport Stack from '@mui/material/Stack';\nimport Divider from '@mui/material/Divider';\nimport useEth from \"../contexts/EthContext/useEth\";\nimport { useState } from 'react';\nimport Chip from '@mui/material/Chip';\nimport SwapHorizIcon from '@mui/icons-material/SwapHoriz';\nimport { useNavigate } from 'react-router-dom';\n\n\nfunction ChlDex() {\n    const { state: { web3 ,accounts, owner, contractCHL ,contractChlDex } } = useEth();\n    const [amountEth, setAmountEth] = useState('');\n    const navigate = useNavigate();\n\n    const buyTokens = async (_amount) => {\n        try {\n          //  await contractCHL.methods.approve( contractChlDex.address, \"1000\").send({ from: accounts[0]});\n            await contractChlDex.methods.buyTokens().send({ from: accounts[0],  value: web3.utils.toWei(_amount, 'ether') });//value:web3.utils.fromWei(_amount, \"ether\")} );\n        } catch (err) {\n            console.log(err);\n        }\n        navigate('/');\n        window.location.reload(true);\n        \n    }\n\n\n    const handleChangeEthAmount = (event) => {\n\n        if (event.target.value === \"\") {\n            alert(\"Please enter an amount\");\n            return;\n          }\n\n          setAmountEth(event.target.value);\n      };\n\n      \n    const onBuyToken = async e => {\n        buyTokens(amountEth);\n      };\n\n  return (\n    <div className=\"opidex\">\n       <Box sx={{ width: '100%' }}  display=\"flex\"   justifyContent=\"center\"\n       >\n      <Stack  direction=\"row\"\n        divider={<Divider orientation=\"vertical\" flexItem />}\n        spacing={2} >\n        <TextField\n          required\n          id=\"outlined-required\"\n          type=\"number\"\n          label=\"Amout in Ether\"\n          onChange={handleChangeEthAmount}\n          value={amountEth}\n        />\n\n       <button className=\"opidexButton\"  onClick={onBuyToken}>Buy CHLs</button>\n       <Chip icon={<SwapHorizIcon />}   label=\"1 Ether = 50 CHL =  1 Challenge**\" color=\"secondary\" variant=\"outlined\" />\n       </Stack>\n    </Box>\n    </div>\n  );\n}\n\nexport default ChlDex;"],"mappings":";;AAAA,OAAO,wBAAwB;AAC/B,OAAOA,GAAG,MAAM,mBAAmB;AACnC,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,KAAK,MAAM,qBAAqB;AACvC,OAAOC,OAAO,MAAM,uBAAuB;AAC3C,OAAOC,MAAM,MAAM,+BAA+B;AAClD,SAASC,QAAQ,QAAQ,OAAO;AAChC,OAAOC,IAAI,MAAM,oBAAoB;AACrC,OAAOC,aAAa,MAAM,+BAA+B;AACzD,SAASC,WAAW,QAAQ,kBAAkB;AAAC;AAG/C,SAASC,MAAM,GAAG;EAAA;EACd,MAAM;IAAEC,KAAK,EAAE;MAAEC,IAAI;MAAEC,QAAQ;MAAEC,KAAK;MAAEC,WAAW;MAAEC;IAAe;EAAE,CAAC,GAAGX,MAAM,EAAE;EAClF,MAAM,CAACY,SAAS,EAAEC,YAAY,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAMa,QAAQ,GAAGV,WAAW,EAAE;EAE9B,MAAMW,SAAS,GAAG,MAAOC,OAAO,IAAK;IACjC,IAAI;MACF;MACE,MAAML,cAAc,CAACM,OAAO,CAACF,SAAS,EAAE,CAACG,IAAI,CAAC;QAAEC,IAAI,EAAEX,QAAQ,CAAC,CAAC,CAAC;QAAGY,KAAK,EAAEb,IAAI,CAACc,KAAK,CAACC,KAAK,CAACN,OAAO,EAAE,OAAO;MAAE,CAAC,CAAC,CAAC;IACrH,CAAC,CAAC,OAAOO,GAAG,EAAE;MACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IACpB;IACAT,QAAQ,CAAC,GAAG,CAAC;IACbY,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,IAAI,CAAC;EAEhC,CAAC;EAGD,MAAMC,qBAAqB,GAAIC,KAAK,IAAK;IAErC,IAAIA,KAAK,CAACC,MAAM,CAACX,KAAK,KAAK,EAAE,EAAE;MAC3BY,KAAK,CAAC,wBAAwB,CAAC;MAC/B;IACF;IAEAnB,YAAY,CAACiB,KAAK,CAACC,MAAM,CAACX,KAAK,CAAC;EACpC,CAAC;EAGH,MAAMa,UAAU,GAAG,MAAMC,CAAC,IAAI;IAC1BnB,SAAS,CAACH,SAAS,CAAC;EACtB,CAAC;EAEL,oBACE;IAAK,SAAS,EAAC,QAAQ;IAAA,uBACpB,QAAC,GAAG;MAAC,EAAE,EAAE;QAAEuB,KAAK,EAAE;MAAO,CAAE;MAAE,OAAO,EAAC,MAAM;MAAG,cAAc,EAAC,QAAQ;MAAA,uBAEtE,QAAC,KAAK;QAAE,SAAS,EAAC,KAAK;QACrB,OAAO,eAAE,QAAC,OAAO;UAAC,WAAW,EAAC,UAAU;UAAC,QAAQ;QAAA;UAAA;UAAA;UAAA;QAAA,QAAI;QACrD,OAAO,EAAE,CAAE;QAAA,wBACX,QAAC,SAAS;UACR,QAAQ;UACR,EAAE,EAAC,mBAAmB;UACtB,IAAI,EAAC,QAAQ;UACb,KAAK,EAAC,gBAAgB;UACtB,QAAQ,EAAEN,qBAAsB;UAChC,KAAK,EAAEjB;QAAU;UAAA;UAAA;UAAA;QAAA,QACjB,eAEH;UAAQ,SAAS,EAAC,cAAc;UAAE,OAAO,EAAEqB,UAAW;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAkB,eACxE,QAAC,IAAI;UAAC,IAAI,eAAE,QAAC,aAAa;YAAA;YAAA;YAAA;UAAA,QAAI;UAAG,KAAK,EAAC,mCAAmC;UAAC,KAAK,EAAC,WAAW;UAAC,OAAO,EAAC;QAAU;UAAA;UAAA;UAAA;QAAA,QAAG;MAAA;QAAA;QAAA;QAAA;MAAA;IAC1G;MAAA;MAAA;MAAA;IAAA;EACL;IAAA;IAAA;IAAA;EAAA,QACA;AAEV;AAAC,GAvDQ5B,MAAM;EAAA,QAC+DL,MAAM,EAE/DI,WAAW;AAAA;AAAA,KAHvBC,MAAM;AAyDf,eAAeA,MAAM;AAAC;AAAA"},"metadata":{},"sourceType":"module"}