{"ast":null,"code":"var _jsxFileName = \"/home/saadi/coursAlyra/OpiChain/client/src/components/MemberCard.jsx\",\n  _s = $RefreshSig$();\nimport * as React from 'react';\nimport '../css/component/membercard.css';\nimport useEth from \"../contexts/EthContext/useEth\";\nimport Card from '@mui/material/Card';\nimport CardHeader from '@mui/material/CardHeader';\nimport CardContent from '@mui/material/CardContent';\nimport Avatar from '@mui/material/Avatar';\nimport Stack from '@mui/material/Stack';\nimport { ShowChart } from '@mui/icons-material';\nimport { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CardPerson(_ref) {\n  _s();\n  let {\n    address\n  } = _ref;\n  const {\n    state: {\n      web3,\n      contractSBT,\n      contractOPI,\n      accounts,\n      owner,\n      sounder,\n      surveyed\n    }\n  } = useEth();\n  const [balance, setBalance] = useState('0');\n  useEffect(() => {\n    if (contractOPI && contractOPI !== null && contractOPI !== void 0 && contractOPI.methods) {\n      (async function () {\n        try {\n          const balance = await contractOPI.methods.balanceOf(accounts[0]).call({\n            from: accounts[0]\n          });\n          console.log(\"Balance\", balance);\n          debugger;\n          const wei = parseInt(balance);\n          const ether = web3.utils.fromWei(wei, \"ether\");\n          setBalance(ether);\n        } catch (err) {\n          console.log(err);\n        }\n      })();\n    }\n  }, [contractSBT, accounts, balance]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"CardPerson_main\",\n    children: [accounts && /*#__PURE__*/_jsxDEV(\"pre\", {\n      children: [\" \", sounder, \"  \", surveyed, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 26\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n          src: \"https://mui.com/static/images/avatar/2.jpg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 25\n        }, this),\n        title: address,\n        subheader: accounts && owner === accounts[0] ? \"OpiChain owner\" : accounts && sounder ? \"Opichain sounder\" : accounts && surveyed ? \"Opichain surveyed\" : \"not a member!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n        children: /*#__PURE__*/_jsxDEV(Stack, {\n          direction: \"row\",\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"membercardWallet\",\n            children: /*#__PURE__*/_jsxDEV(ShowChart, {\n              fontSize: \"large\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 52\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"membercardBalance\",\n            children: [balance, \" OPI\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)]\n  }, \"{address}\", true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n}\n_s(CardPerson, \"SDV1DcAvu7Br8haRG3VAy4YzCEY=\", false, function () {\n  return [useEth];\n});\n_c = CardPerson;\nexport default CardPerson;\nvar _c;\n$RefreshReg$(_c, \"CardPerson\");","map":{"version":3,"names":["React","useEth","Card","CardHeader","CardContent","Avatar","Stack","ShowChart","useState","useEffect","CardPerson","address","state","web3","contractSBT","contractOPI","accounts","owner","sounder","surveyed","balance","setBalance","methods","balanceOf","call","from","console","log","wei","parseInt","ether","utils","fromWei","err"],"sources":["/home/saadi/coursAlyra/OpiChain/client/src/components/MemberCard.jsx"],"sourcesContent":["import * as React from 'react';\nimport '../css/component/membercard.css';\nimport useEth from \"../contexts/EthContext/useEth\";\nimport Card from '@mui/material/Card';\nimport CardHeader from '@mui/material/CardHeader';\nimport CardContent from '@mui/material/CardContent';\nimport Avatar from '@mui/material/Avatar';\nimport Stack from '@mui/material/Stack';\nimport { ShowChart } from '@mui/icons-material';\nimport { useState, useEffect } from \"react\";\n\nfunction CardPerson({ address }) {\n\n    const { state: { web3,contractSBT,contractOPI ,accounts,owner ,sounder, surveyed} } = useEth();\n    const [balance, setBalance] = useState('0');\n              \n    useEffect(() => {\n\n\n        if (contractOPI && contractOPI?.methods) {\n\n            (async function () {\n\n                try {\n                   const balance = await contractOPI.methods.balanceOf(accounts[0]).call({ from: accounts[0]} );\n                   console.log(\"Balance\",balance);\n                   debugger;\n                   const wei = parseInt(balance);\n                   const ether = web3.utils.fromWei(wei, \"ether\");\n                   setBalance(ether);\n                } catch (err) {\n                    console.log(err);\n                }\n\n\n        })();\n\n        }\n\n\n\n    },[contractSBT,accounts,balance]);\n\n    return (\n        \n        <div key=\"{address}\" id=\"CardPerson_main\">\n            {accounts && <pre> {sounder}  {surveyed} </pre>} \n            <Card >\n                <CardHeader\n                    avatar={\n                        <Avatar src=\"https://mui.com/static/images/avatar/2.jpg\">\n                        </Avatar>\n                    }\n\n\n                    title={address}\n                    subheader={ accounts && owner === accounts[0] ? \"OpiChain owner\" : ( accounts && sounder ?  \"Opichain sounder\" : ( accounts && surveyed ?  \"Opichain surveyed\" : \"not a member!\")) \n                   }\n                />\n\n                <CardContent>\n                    <Stack direction=\"row\" spacing={2}>\n                        <div id=\"membercardWallet\"><ShowChart fontSize=\"large\" /></div>\n                        <div id=\"membercardBalance\">{balance} OPI</div>\n                    </Stack>\n\n                </CardContent>\n            </Card>\n        </div>\n    );\n}\n\nexport default CardPerson;"],"mappings":"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"},"metadata":{},"sourceType":"module"}